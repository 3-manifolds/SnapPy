pipelines:
  default:
    - step:
        name: SageMath pinned release
        image: sagemath/sagemath:8.6
        script:
          - sage --version
          - sage -pip install FXrays mercurial wheel
          - sage -pip install hg+https://bitbucket.org/t3m/plink
          - sage -pip install hg+https://bitbucket.org/t3m/snappy_manifolds
          - sage -pip install hg+https://bitbucket.org/t3m/spherogram
          - sage -python setup.py build
          - sage -python setup.py test
          - sage -python setup.py build_docs

    - step:
        name: SageMath + Python 3
        image: computop/sage:py3
        script:
          - sage --version
          - sage -pip install FXrays mercurial wheel
          - sage -pip install hg+https://bitbucket.org/t3m/plink
          - sage -pip install hg+https://bitbucket.org/t3m/snappy_manifolds
          - sage -pip install hg+https://bitbucket.org/t3m/spherogram
          - sage -python setup.py build
          - sage -python setup.py test
          - sage -python setup.py build_docs
